{% extends template('widget') %}

{% define data = {
    product: product | default,
    products: products | default([])
} %}

{% block body %}

    <div>
        {% embed molecule('slick-carousel') with {
            modifiers: ['full-width'],
            data: {
                slides: data.products
            },
            attributes: {
                'data-json': '{
                    "slidesToShow": 3,
                    "dots": false,
                    "arrows": true
                }'
            }
        } only %}

            {% block slides %}
                {% for availableProduct in data.slides if availableProduct.available %}
                    {{ widget('ProductWidgetPlugin', availableProduct) }}
                {% endfor %}
            {% endblock %}

        {% endembed %}
    </div>

{% endblock %}
