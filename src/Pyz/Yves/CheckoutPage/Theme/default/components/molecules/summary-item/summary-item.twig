{% extends model('component') %}

{% define config = {
    name: 'summary-item',
    tag: 'div'
} %}

{% define data = {
    cartItem: required,
    quantity: required,
    image: required,
    options: [],
} %}

{% block body %}

    <div class="grid grid--stretch grid--gap">
        <div class="{{ config.name }}__col {{ config.name }}__col--image col col--sm-12 col--lg-3">
            <a href="{{ data.cartItem.url }}" class="{{ config.name }}__image ">
                {% include molecule('cart-image', 'CartPage') with {
                    modifiers: ['small'],
                    data: {
                        name: data.cartItem.name | default(''),
                        image: data.cartItem.images is empty ? null : (data.cartItem.images | first)
                    }
                } only %}
            </a>
        </div>

        <div class="{{ config.name }}__col {{ config.name }}__col--content col col--sm-12 col--lg-6">
            <h6 class="{{ config.name }}__title">
                <a href="{{ data.cartItem.url }}" class="{{ config.name }}__title">{{ data.cartItem.name }}</a>
            </h6>

            <small class="text-secondary">
                {{ 'cart.item.sku' | trans }}
                {{ data.cartItem.sku }}
            </small>

            <div class="{{ config.name }}__quantity"><span class="{{ config.name }}__quantity-text">{{ 'cart.item_quantity' | trans }}:</span> {{ data.quantity }}</div>

            {% if data.options is not empty %}
                <ul class="option-display {{ config.name }}__options">
                    {% for option in data.options %}
                        <li class="option-display__item">{{ option.value | trans }} {{ option.sumPrice | default(0) | money }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

        </div>

        <div class="{{ config.name }}__col {{ config.name }}__col--total col col--sm-12 col--lg-3">
            <div class="{{ config.name }}__inner--total grid grid--column grid--justify-column grid--bottom">
                <div class="col">

                    {% include molecule('price') with {
                        data: {
                            amount: data.cartItem.sumSubtotalAggregation | money,
                        },
                        modifiers: ['cart'],
                    } only %}
                </div>
            </div>
        </div>
    </div>

{% endblock %}
