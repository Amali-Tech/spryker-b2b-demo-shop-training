{% extends model('component') %}

{% define config = {
    name: 'navigation-top',
    tag: 'div'
} %}

{% block body %}
    <div class="col {{ config.name }}__benefit">
        {% include atom('icon') with {
            modifiers: ['header-check'],
            data: {
                name: 'check'
            }
        } only %}
        {{ 'global.benefit.free_returns' | trans }}
    </div>

    <div class="col {{ config.name }}__benefit">
        {% include atom('icon') with {
            modifiers: ['header-check'],
            data: {
                name: 'check'
            }
        } only %}
        {{ 'global.benefit.warranty' | trans }}
    </div>

    {% if not is_granted('ROLE_USER') %}
        <div class="col {{ config.name }}__benefit">
            {% include atom('icon') with {
                modifiers: ['header-check'],
                data: {
                    name: 'check'
                }
            } only %}
            {{ 'global.benefit.competitive_prices' | trans }}
        </div>
    {% endif %}

    <ul class="col grid grid--nowrap grid--stretch navigation-top__actions">
        <li class="col {{ config.name }}__action-item {{ config.name }}__tel">
            {% include atom('icon') with {
                modifiers: ['phone'],
                data: {
                    name: 'phone'
                }
            } only %}
            +49 (0) 30 208 498 350
        </li>

        {% if is_granted('ROLE_USER') %}
            <li class="col {{ config.name }}__action-item">
                {{ widgetGlobal('PriceModeSwitcherWidgetPlugin') }}
            </li>
            <li class="col {{ config.name }}__action-item">
                {{ widgetGlobal('CurrencyWidgetPlugin') }}
            </li>
        {% endif %}

        <li class="col {{ config.name }}__action-item">
            {{ widgetGlobal(
                'LanguageSwitcherWidgetPlugin',
                app.request.pathInfo,
                app.request.queryString,
                app.request.requestUri
            ) }}
        </li>

        {% if is_granted('ROLE_USER') %}
            {% if widgetGlobalExists('MenuItemCompanyWidgetPlugin') %}
                <li class="col {{ config.name }}__action-item">
                    {% spaceless %}{{ widgetGlobal('MenuItemCompanyWidgetPlugin') }}{% endspaceless %}
                    {% if can('SeeCompanyMenuPermissionPlugin') %}
                        <ul class="{{ config.name }}__sub-nav">
                            <li><a class="{{ config.name }}__sub-nav-link" href="{{ url('company/overview') }}">{{ 'company.account.overview' | trans }}</a></li>
                            <li><a class="{{ config.name }}__sub-nav-link" href="{{ url('company/user') }}">{{ 'company.account.company_role.users' | trans }}</a></li>
                            <li><a class="{{ config.name }}__sub-nav-link" href="{{ url('company/business-unit') }}">{{ 'company.account.business_unit' | trans }}</a></li>
                            <li><a class="{{ config.name }}__sub-nav-link" href="{{ url('company/company-role') }}">{{ 'company.account.company_user.role' | trans }}</a></li>
                        </ul>
                    {% endif %}
                </li>
            {% endif %}
        {% endif %}
    </ul>
{% endblock %}
