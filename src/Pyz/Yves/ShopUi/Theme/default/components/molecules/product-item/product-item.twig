{% extends molecule('product-item', '@SprykerShop:ShopUi') %}

{% define data = {
    category: '',
} %}

{% define attributes = {
    'default-price-color-class-name': 'text-alt',
} %}

{% block extraClass %}
    {{ config.jsName }}
{% endblock %}

{% block body %}
    <div class="{{ component.renderClass(config.name ~ '__container', modifiers) }}">
        {% block image %}
            {% set thumbnailModifier = 'category' in modifiers ? ['category'] : [] %}
            {% set extraClass = '' %}
            {% set modifiers = ['catalog'] | merge(thumbnailModifier) %}

            <div class="{{ component.renderClass(config.name ~ '__image-wrap', modifiers) }}">
                {% block productThumbnail %}
                    {{ parent() }}
                {% endblock %}

                {% block colors %}
                    <div class="{{ config.name }}__colors">
                        {{ parent() }}
                    </div>
                {% endblock %}
            </div>
        {% endblock %}

        {% block content %}
            {% block labels %}
                {{ parent() }}
            {% endblock %}

            {% block name %}
                <a class="{{ component.renderClass(config.name ~ '__overlay', modifiers) }} {{ config.jsName }}__name {{ config.jsName }}__link-detail-page" href="{{ path(data.url) }}">
                    {{ data.name }}
                </a>
            {% endblock %}

            {% block category %}
                {% if data.category is not empty %}
                    <span class="{{ component.renderClass(config.name ~ '__category', modifiers) }}">{{ data.category }}</span>
                {% endif %}
            {% endblock %}

            {% block rating %}
                <div class="{{ config.name }}__rating">
                    {{ parent() }}
                </div>
            {% endblock %}

            {% block priceContainer %}
                {% block price %}
                    {% if can('SeePricePermissionPlugin') %}
                        <div class="{{ component.renderClass(config.name ~ '__price', modifiers) }}">
                            {% embed molecule('money-price') with {
                                data: {
                                    amount: data.product.prices.DEFAULT | default(null),
                                    originalAmount: data.product.prices.ORIGINAL | default(null),
                                    currencyIsoCode: data.currencyIsoCode,
                                    parentJsName: config.jsName,
                                },
                            } only %}
                                {% block originalPrice %}
                                    {% block originalPriceInner %}
                                        {{ parent() }}
                                    {% endblock %}
                                {% endblock %}
                            {% endembed %}
                        </div>
                    {% endif %}
                {% endblock %}
            {% endblock %}
        {% endblock %}

        {% block actionsContainer %}{% endblock %}
    </div>
{% endblock %}
