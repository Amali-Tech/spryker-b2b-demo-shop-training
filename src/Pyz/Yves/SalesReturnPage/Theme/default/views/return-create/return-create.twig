{% extends view('return-create', '@SprykerShop:SalesReturnPage') %}

{% block breadcrumbs %}
    {% set breadcrumbExtension = [
        {
            label: 'return_page.breadcrumb.create_return' | trans,
        },
    ] %}
    {{ parent() }}
{% endblock %}

{% block salesReturnContentHeader %}
    {% block salesReturnPageTitle %}
        {% set salesReturnSaveActionClass = 'button spacing-left js-return-create__target-state-toggler' %}

        {% embed molecule('action-bar') with {
            modifiers: ['first'],
            data: {
                title: 'return_page.return.title' | trans,
                actions: [
                    {
                        title: 'general.back.button' | trans,
                        url: path('customer/order/details', {'id': data.order.idSalesOrder}),
                        modifiers: ['hollow'],
                        icon: '',
                    },
                ],
            },
            embed: {
                submit: block('salesReturnPageActions'),
            },
        } only %}
            {% block actions %}
                {{ parent() }}
                {{ embed.submit | raw }}
            {% endblock %}
        {% endembed %}
    {% endblock %}

    {% block backOrderLink %}{% endblock %}
    {% block salesReturnPageHeaderSeparator %}{% endblock %}
    {% block salesReturnOrderInfoSeparator %}{% endblock %}
{% endblock %}

{% block salesReturnOrderInfo %}
    {% include molecule('order-info', 'CustomerPage') ignore missing with {
        data: {
            id: data.order.orderReference,
            date: data.order.createdAt | formatDateTime,
            order: data.order,
        },
    } only %}
{% endblock %}

{% block salesReturnProductItem %}
    {% set salesReturnProductItemClass = 'grid grid--middle grid--justify grid--nowrap' %}

    {{ parent() }}
{% endblock %}

{% block salesReturnContent %}
    {% set contentWrapperClass = '' %}

    {{ parent() }}
{% endblock %}

{% block salesReturnProducts %}
    {% set salesReturnProductsClass = 'spacing-bottom spacing-bottom--big' %}

    {% include atom('checkbox-select-all') with {
        class: 'spacing-y spacing-y--inner spacing-y--big',
        modifiers: ['expand', 'bordered'],
        data: {
            targetClass: 'checkbox__input--expand',
        },
    } only %}

    {{ parent() }}
{% endblock %}

{% block checkbox %}
    <div class="{{ checkboxWrapperClass }}">
        {{ form_row(returnItem.isReturnable, {
            label: ' ',
            attr: {'class': 'js-return-create__trigger-state-toggler'},
            disabled: not orderItem.isReturnable,
        }) }}
    </div>
{% endblock %}

{% block buttonsStateHandler %}
    {% include molecule('order-buttons-disable-toggler', 'SalesReturnPage') with {
        attributes: {
            'trigger-class-name': 'checkbox__input--expand',
            'target-class-name': 'js-return-create__target-state-toggler',
        },
    } only %}
{% endblock %}
