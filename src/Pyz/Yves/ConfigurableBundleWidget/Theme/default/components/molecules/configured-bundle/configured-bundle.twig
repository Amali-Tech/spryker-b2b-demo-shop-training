{% extends molecule('configured-bundle', '@SprykerShop:ConfigurableBundleWidget') %}

{% define data = {
    isQuantityVisible: true,
} %}

{%- block extraClass %}{% endblock -%}

{% block bundleInner %}
    {% block bundleGeneralInformation %}
        <div class="{{ config.name }}__col col col--sm-12 col--md-7">
            {% block bundleName %}
                <h6 class="{{ config.name }}__title spacing-right spacing-right--big">
                    {%- block bundleNameText -%}
                        {{ parent() }}
                    {%- endblock -%}
                </h6>
            {% endblock %}
        </div>
    {% endblock %}

    <div class="{{ config.name }}__col {{ config.name }}__col--right col col--sm-12 col--md-5">
        {% block bundleQuantity %}
            {% if data.isQuantityVisible %}
                <div class="{{ config.name }}__col {{ config.name }}__col--right col col--sm-12 col--md-5">
                    {% block bundleQuantityInner %}
                        {% include molecule('configured-bundle-quantity', 'ConfigurableBundleWidget') with {
                            class: 'col col--sm-12',
                            data: {
                                configuredBundle: data.bundle,
                                readOnly: not (data.isEditable and data.isQuantityChangeable),
                            },
                        } only %}
                    {% endblock %}
                </div>
            {% endif %}
        {% endblock %}

        {% block bundlePriceInformation %}
            <div class="{{ config.name }}__col {{ config.name }}__col--right col col--sm-12 col--md-3">
                {% block bundleTotal %}
                    {{ parent() }}

                    {%- block bundleTotalTitle -%}{%- endblock %}
                {% endblock %}
            </div>
        {% endblock %}
    </div>
{% endblock %}

{% block bundleActionsInner %}
    <div class="{{ config.name }}__delete-cart">
        <a class="link link--icon" href="{{ path('cart/configured-bundle/remove', {'configuredBundleGroupKey': data.bundle.groupKey}) }}" data-init-single-click>
            {% include atom('icon') with {
                modifiers: ['link'],
                data: {
                    name: 'delete',
                },
            } only %}
            <span class="is-hidden-sm-md">{{ 'cart.delete.item' | trans }}</span>
        </a>
    </div>
{% endblock %}
