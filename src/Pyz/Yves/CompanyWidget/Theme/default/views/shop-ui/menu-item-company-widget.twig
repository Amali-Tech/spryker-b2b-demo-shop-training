{% extends template('widget') %}

{% define data = {
    companyName: _widget.companyName,
    isVisible: _widget.isVisible
} %}

{% block template %}
    {% if data.isVisible %}
        {% if can('SeeCompanyMenuPermissionPlugin') %}
            <a href="{{ path('company/overview') }}" class="col navigation-top__company" title="{{ data.companyName }}">
                {{ data.companyName }}
                {% include atom('icon') with {
                    class: 'navigation-top__company-icon',
                    data: {
                        name: 'caret-down'
                    }
                } only %}
            </a>
        {% else %}
            <span class="col navigation-top__company navigation-top__company--no-menu">{{ data.companyName }}</span>
        {% endif %}
    {% else %}
        <a href="{{ path('company/overview') }}" class="col navigation-top__company" title="{{ data.companyName }}">{{ 'company.account.page-title' | trans }}</a>
    {% endif %}
{% endblock %}
