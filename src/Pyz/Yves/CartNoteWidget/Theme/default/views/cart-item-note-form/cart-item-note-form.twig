{% extends template('widget') %}

{% define data = {
    idQuote: _view.cart.idQuote,
    form: _widget.cartNoteForm
} %}

{% set canWrite = (not is_granted('IS_AUTHENTICATED_FULLY') or can('WriteSharedCartPermissionPlugin', data.idQuote)) %}

{% block body %}

    {% include molecule('cart-item-note', 'CartNoteWidget') with {
        data: {
            form: data.form,
            canWrite: canWrite
        }
    } only %}
{% endblock %}
