{% extends molecule('configurator-sidebar', '@SprykerShop:ConfigurableBundlePage') %}

{% define data = {
    isSeparateItemActive: false,
} %}

{%- block extraClass %} grid{% endblock -%}

{% block slotItem %}
    {% set submitButtonModifiers = ['expand', 'additional-indention'] %}
    {% set slotClasses = config.name ~ '__item' %}

    <li class="{{ slotClasses }}">
        {% block slotItemInner %}
            {% include molecule('slot-page-redirect-form', 'ConfigurableBundlePage') with {
                data: {
                    form: data.form.createView,
                    submitButtonText: configurableBundleTemplateSlotStorage.name | trans,
                    idConfigurableBundleTemplateSlot: configurableBundleTemplateSlotStorage.idConfigurableBundleTemplateSlot,
                    selectedSlotId: data.selectedSlotId,
                    submitButtonModifiers: submitButtonModifiers,
                    isSelectedStatusAvailable: data.isSeparateItemActive,
                    action: path(
                        'configurable-bundle/configurator/slots', {
                            'idConfigurableBundleTemplate': data.configurableBundleTemplateStorage.idConfigurableBundleTemplate,
                            'idConfigurableBundleTemplateSlot': configurableBundleTemplateSlotStorage.idConfigurableBundleTemplateSlot,
                        }
                    ),
                },
            } only %}
        {% endblock %}
    </li>
{% endblock %}

{% block summaryItem %}
    {% set summaryClasses = config.name ~ '__item' %}
    <li class="{{ summaryClasses }}">
        {% block summaryItemInner %}
            {{ parent() }}
        {% endblock %}
    </li>
{% endblock %}

{% block summaryItemAction %}
    {% set buttonModifiers = data.isSeparateItemActive ? buttonModifiers | merge(['active']) : buttonModifiers | merge(['additional-colors']) %}

    {{ parent() }}
{% endblock %}
