{% extends template('page-layout-company', 'CompanyPage') %}

{% define data = {
    form: _view.form,
    idCompanyBusinessUnit: _view.idCompanyBusinessUnit|default(''),
    title: 'company.account.edit_address_information' | trans,
    activePage: 'business-unit'
} %}

{% block breadcrumbs %}
    {% include molecule('breadcrumb') with {
        data: {
            steps: [
                {
                    label: 'company.account.page-title' | trans,
                    url: url('company/overview')
                }, {
                    label: 'company.account.business_unit' | trans,
                    url: url('company/business-unit')
                }, {
                    label: 'company.account.edit_address_information' | trans
                }
            ]
        }
    } only %}
{% endblock %}

{% block companyContent %}
    {% set buIndexUrl = url('company/business-unit/update', { id: data.idCompanyBusinessUnit }) %}
    {% set buListUrl = url('company/business-unit') %}

    {% include molecule('action-bar', 'ShopUi') with {
        data: {
            title: 'company.account.edit_address_information' | trans
        }
    } only %}

    {% include molecule('form') with {
        modifiers: ['narrow'],
        data: {
            form: data.form,
            options: {
                action: url('company/address/update', { idCompanyBusinessUnit: data.idCompanyBusinessUnit })
            },
            layout: {
                address1: 'col col--sm-12 col--lg-9',
                address2: 'col col--sm-12 col--lg-3',
                zip_code: 'col col--sm-12 col--lg-4',
                city: 'col col--sm-12 col--lg-4',
                iso2code: 'col col--sm-12 col--lg-4'
            },
            submit: {
                enable: true,
                class: 'button'
            },
            cancel: {
                enable: true,
                url: data.idCompanyBusinessUnit ? buIndexUrl : buListUrl,
                text: 'general.back.button' | trans,
                icon: null,
                class: 'button button--hollow'
            }
        }
    } only %}
{% endblock %}
