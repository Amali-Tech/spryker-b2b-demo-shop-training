{% extends template('widget') %}

{% define data = {
    cart: _widget.cart,
    accessType: _widget.accessType,
} %}

{% block body %}
    <span class="cart-permission">
    {% if data.accessType == 'OWNER_ACCESS' %}
        <span class="cart-permission__owner">
            {{ 'widget.shared_cart.multi_cart.permissions.OWNER_ACCESS' | trans }}
        </span>
    {%  elseif data.accessType == 'FULL_ACCESS' %}
        <span class="cart-permission__full">
            {{ 'widget.shared_cart.multi_cart.permissions.FULL_ACCESS' | trans }}
        </span>
    {% elseif data.accessType == 'READ_ONLY' %}
        <span class="cart-permission__read">
            {{ 'widget.shared_cart.multi_cart.permissions.READ_ONLY' | trans }}
        </span>
    {% endif %}
    </span>
{% endblock %}

{% block actions %}
    {% if _widget.accessType == 'OWNER_ACCESS' %}
        <a class="link link--alt link--action" href="{{ url('shared-cart/share', {idQuote: _widget.cart.idQuote}) }}" title="{{ 'shared_cart_widget.cart.share' | trans }}">
            {% include atom('icon') with {
                modifiers: ['share'],
                data: {
                    name: 'share'
                },
                attributes: {
                    title: 'shared_cart_widget.cart.share' | trans
                }
            } only %}
        </a>
    {% endif %}
{% endblock %}
